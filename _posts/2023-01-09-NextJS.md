---
title: "NextJS"
date: "2023-01-09 00:00:00"
categories: [FE, NextJS]
tags: [next] # TAGëŠ” ë°˜ë“œì‹œ ì†Œë¬¸ìë¡œ ì´ë£¨ì–´ì ¸ì•¼í•¨!
---

## ğŸ“Œ NextJS

React

+Express.js

+React-Route_Dom

+Server Side Rendering

ì˜ ëŠë‚Œ

### ì„¤ì¹˜

```
npx create-next-app@latest .
```

### ì‹¤í–‰ ëª…ë ¹ì–´

ê°œë°œ : npm run dev

ë°°í¬ : npm run build

ì„œë¹„ìŠ¤ ì‹œì‘ : npm run start

## Route

ì‚¬ìš©ìê°€ ì ‘ì†í•˜ëŠ” ê²½ë¡œì™€ ìš°ë¦¬ê°€ ì„¤ì •í•˜ëŠ” ê²½ë¡œì˜ ì£¼ì†Œì°¨ì´

http://a.com/ => /pages/index.tsx

http://a.com.sub/ => /pages/sub/index.tsx

http://a.com/sub/about => /pages/sub/about.tsx

http://a.com/sub/1 => /pages/sub/[id].tsx

http://a.com/sub/2 => /pages/sub/[id].tsx

<img width="844" alt="image" src="https://user-images.githubusercontent.com/45509511/211770409-428d0a4d-071c-46c9-8212-bf31bd86e9be.png">

<img width="288" alt="image" src="https://user-images.githubusercontent.com/45509511/211770471-659c1b2f-5a1c-47bd-9e05-74e69a581935.png">

[id] íŒŒë¼ë¯¸í„°ë¥¼ ë°›ëŠ”ë²•

<img width="709" alt="image" src="https://user-images.githubusercontent.com/45509511/211770738-e1943ac7-07c2-4186-9197-c7239cec5259.png">

useRouterë¥¼ ì´ìš©í•˜ì—¬ íŒŒë¼ë¯¸í„°ë¥¼ ë°›ê³  í™”ë©´ì— í‘œì‹œí•´ì¤€ë‹¤

<img width="310" alt="image" src="https://user-images.githubusercontent.com/45509511/211770894-37a65ad3-a948-4bcd-8889-b613eb0dd78a.png">

<img width="343" alt="image" src="https://user-images.githubusercontent.com/45509511/211770961-36cbed0f-a779-4b6c-b996-4034f6017d3b.png">

### API Route

nextì˜ íŠ¹ì§•ì¤‘ í•˜ë‚˜ëŠ” SSRê³¼ CSRì„ ëª¨ë‘ ê°€ì§€ê³  ìˆëŠ” ì˜¬ì¸ì› ì†”ë£¨ì…˜

http://a.com/api => /pages/api/index.tsx

ì„œë²„ì— a.com/apië¡œ ë°ì´í„° ìš”ì²­ í›„ pages/api/index.tsxì˜ ë°ì´í„°ë¥¼ ì„œë²„ìª½ì—ì„œ ê³µê¸‰í•˜ë„ë¡ í• ìˆ˜ìˆìŒ

/api ì•„ë˜ì— [id].tsë¡œ ì˜ˆì œ ìƒì„±

```javascript
import type { NextApiRequest, NextApiResponse } from "next";

export default function handler(req: NextApiRequest, res: NextApiResponse) {
  res.status(200).json({ id: req.query.id });
}
```

/api/1 ë¡œ ì´ë™ì‹œ

{"id":"1"}

ì´ í˜ì´ì§€ì— ë‚˜ì˜¨ë‹¤

### env í™˜ê²½ë³€ìˆ˜

ë³´í†µì˜ ê²½ìš°

.env íŒŒì¼ ì•ˆì—

API_URL=http://localhost:3000/

ì´ëŸ°ì‹ìœ¼ë¡œ ì“°ì§€ë§Œ

nextì˜ ê²½ìš°

API_URL ì•ì— NEXT_PUBLICì„ ë¶™ì–´ì•¼ í•œë‹¤.

NEXT_PUBLIC_API_URL

ì´ë ‡ê²Œí•˜ë©´ ë¹Œë“œì‹œ ë°°í¬íŒŒì¼ì— í¬í•¨ëœë‹¤.

.env íŒŒì¼

```
NEXT_PUBLIC_API_URL=http://localhost:3000/
```

/pages/index.tsx ì•ˆì— ì¶”ê°€

```javascript
<li>
  <Link href="/sub/fetch">/pages/sub/fetch.js</Link>
</li>
```

/sub/fetch.ts

```javascript
import Link from "next/link";
import React, { useEffect } from "react";

const Fetch = () => {
  useEffect(() => {
    fetch(process.env.NEXT_PUBLIC_API_URL + "api/1")
      .then((res) => res.json())
      .then((data) => console.log(data));
  });
  return (
    <>
      <h1>/page/sub/fetch.js</h1>
      <Link href="/">/pages/index.js</Link>
    </>
  );
};

export default Fetch;
```
